function 42:portal/portal/tag_pair
execute as @e[tag=42.portal_wall,tag=42.portal_pair] at @s run function 42:portal/portal/replace_wall
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair] at @s positioned ^ ^.5 ^ run fill ^-1 ^-1 ^ ^1 ^1 ^ chain replace #42:portal_surface
#
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_x=0}] at @s positioned ^ ^.5 ^ run fill ^-1 ^-1 ^ ^1 ^1 ^ chain[axis=z] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_x=1}] at @s positioned ^ ^.5 ^ run fill ^-1 ^-1 ^ ^1 ^1 ^ chain[axis=x] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_x=2}] at @s positioned ^ ^.5 ^ run fill ^-1 ^-1 ^ ^1 ^1 ^ chain[axis=z] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_x=3}] at @s positioned ^ ^.5 ^ run fill ^-1 ^-1 ^ ^1 ^1 ^ chain[axis=x] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=-2}] at @s positioned ^ ^.5 ^ run fill ^-1 ^-1 ^ ^1 ^1 ^ white_stained_glass_pane replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=2}] at @s positioned ^ ^.5 ^ run fill ^-1 ^-1 ^ ^1 ^1 ^ white_stained_glass_pane replace #42:portal_blocks
#
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_x=0}] at @s positioned ^ ^.5 ^ run fill ^ ^-1 ^ ^ ^ ^ iron_trapdoor[facing=south,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_x=1}] at @s positioned ^ ^.5 ^ run fill ^ ^-1 ^ ^ ^ ^ iron_trapdoor[facing=west,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_x=2}] at @s positioned ^ ^.5 ^ run fill ^ ^-1 ^ ^ ^ ^ iron_trapdoor[facing=north,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_x=3}] at @s positioned ^ ^.5 ^ run fill ^ ^-1 ^ ^ ^ ^ iron_trapdoor[facing=east,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=-2}] at @s positioned ^ ^.5 ^ run fill ^ ^-1 ^ ^ ^ ^ iron_trapdoor[half=bottom] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=2}] at @s positioned ^ ^.5 ^ run fill ^ ^-1 ^ ^ ^ ^ iron_trapdoor[half=top] replace #42:portal_blocks
#
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=0}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=-2,42.portal_x=0}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top,facing=south,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=2,42.portal_x=0}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top,facing=north,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=-2,42.portal_x=1}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top,facing=west,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=2,42.portal_x=1}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top,facing=east,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=-2,42.portal_x=2}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top,facing=north,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=2,42.portal_x=2}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top,facing=south,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=-2,42.portal_x=3}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top,facing=east,open=true] replace #42:portal_blocks
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal,tag=42.portal_pair,scores={42.portal_y=2,42.portal_x=3}] at @s positioned ^ ^.5 ^ run fill ^ ^1 ^ ^ ^1 ^ iron_trapdoor[half=top,facing=west,open=true] replace #42:portal_blocks
#
execute as @e[tag=42.portal_pair,tag=42.portal_dis] run function 42:portal/portal/set_back_color_dis
execute as @e[tag=42.portal_pair,tag=42.portal_wall] run data merge entity @s {block_state:{Name:air}}
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal_pair,tag=42.portal_dis] run data modify entity @s block_state.Name set value black_concrete
execute if entity @e[tag=42.portal_pair,tag=42.portal_a] if entity @e[tag=42.portal_pair,tag=42.portal_b] as @e[tag=42.portal_pair,tag=42.portal_wall] run function 42:portal/portal/set_dis
#
tag @e remove 42.portal_pair