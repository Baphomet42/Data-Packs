tag @e remove 42.portal_cube_spawn
#normal
execute if entity @s[tag=!42.portal_spawn_cube2] run summon pig ~ ~ ~ {Tags:["42.portal_cube_tp","42.portal_cube_spawn"],CustomName:'{"text":"42portal"}',Invulnerable:1,DeathLootTable:"minecraft:empty",Silent:1,ActiveEffects:[{Id:14,Duration:-1,ShowParticles:0b}],Attributes:[{Name:"generic.movement_speed",Base:-127}]}
execute if entity @s[tag=!42.portal_spawn_cube2] run summon armor_stand ~ ~ ~ {Tags:["42.portal_cube","42.portal_cube_spawn"],CustomName:'{"text":"42portal"}',Marker:1,Invisible:1,Small:1,DisabledSlots:16191,Passengers:[{id:interaction,Tags:["42.portal_cube_hit","42.portal_cube_spawn"],CustomName:'{"text":"42portal"}',width:1.01,height:1.005,response:1,Passengers:[{id:shulker,Tags:["42.portal_cube_col","42.portal_cube_spawn"],CustomName:'{"text":"Weighted Storage Cube"}',NoAI:1,Invulnerable:1,Silent:1,DeathLootTable:"minecraft:empty",ActiveEffects:[{Id:14,Duration:-1,ShowParticles:0b}]},{id:item_display,Tags:["42.portal_cube_dis","42.portal_cube_spawn"],CustomName:'{"text":"42portal"}',item:{id:player_head,Count:1,tag:{SkullOwner:{Id:[I;-1070785282,611796448,-1418973103,2041260240],Name:"Weighted Storage Cube",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYmM3ZTdmZTUzM2Y2MDJkZmQ4MDNiNzZiNmQwMDIyMTk2YTcxOWNlYjIxMzcxZmVlY2E0MDY3MmZhNGIxMWY2ZCJ9fX0="}]}}}},view_range:10f,transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],translation:[0f,.975f,0f],scale:[1.901f,1.901f,1.901f]}}]}]}
#companion
execute if entity @s[tag=42.portal_spawn_cube2] run summon pig ~ ~ ~ {Tags:["42.portal_cube_tp","42.portal_cube2","42.portal_cube_spawn"],CustomName:'{"text":"42portal"}',Invulnerable:1,DeathLootTable:"minecraft:empty",Silent:1,ActiveEffects:[{Id:14,Duration:-1,ShowParticles:0b}],Attributes:[{Name:"generic.movement_speed",Base:-127}]}
execute if entity @s[tag=42.portal_spawn_cube2] run summon armor_stand ~ ~ ~ {Tags:["42.portal_cube","42.portal_cube_spawn"],CustomName:'{"text":"42portal"}',Marker:1,Invisible:1,Small:1,DisabledSlots:16191,Passengers:[{id:interaction,Tags:["42.portal_cube_hit","42.portal_cube_spawn"],CustomName:'{"text":"42portal"}',width:1.01,height:1.005,response:1,Passengers:[{id:shulker,Tags:["42.portal_cube_col","42.portal_cube_spawn"],CustomName:'{"text":"Weighted Companion Cube"}',NoAI:1,Invulnerable:1,Silent:1,DeathLootTable:"minecraft:empty",ActiveEffects:[{Id:14,Duration:-1,ShowParticles:0b}]},{id:item_display,Tags:["42.portal_cube_dis","42.portal_cube_spawn"],CustomName:'{"text":"42portal"}',item:{id:player_head,Count:1,tag:{SkullOwner:{Id:[I;-961613125,2031045631,-1944992102,-495134158],Name:"Weighted Companion Cube",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZWNjNzM0NTczZDg2YzdkODcyMTRhODI5NDYzNjVhYzkzNjM5MjY2NWE4NzkwOTVkMGYyZmYyZGNkNzQwZjJiOSJ9fX0="}]}}}},view_range:10f,transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],translation:[0f,.975f,0f],scale:[1.901f,1.901f,1.901f]}}]}]}
#
team join 42.no_col @e[tag=42.portal_cube_tp,tag=42.portal_cube_spawn]
execute as @e[tag=42.portal_cube_spawn] store result score @s 42.portal_id run data get entity @e[tag=42.portal_cube_spawn,tag=42.portal_cube_tp,limit=1] UUID[0]
execute if entity @e[tag=42.portal_dropper_drop] run tag @e[tag=42.portal_cube_spawn] add 42.portal_dropper_drop
tag @e remove 42.portal_cube_spawn
kill @s[type=area_effect_cloud]